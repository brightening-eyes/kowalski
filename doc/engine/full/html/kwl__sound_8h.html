<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Kowalski Engine: src/engine/kwl_sound.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>src/engine/kwl_sound.h File Reference</h1><code>#include &quot;<a class="el" href="kwl__audiodata_8h_source.html">kwl_audiodata.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="kwl__event_8h_source.html">kwl_event.h</a>&quot;</code><br/>

<p><a href="kwl__sound_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkwl_sound.html">kwlSound</a></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structkwl_sound.html">kwlSound</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kwl__sound_8h.html#ad831cdaa81dc9f200903e76d5379eb73">kwlSound</a></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ce">kwlSoundPlaybackMode</a> { <br/>
&nbsp;&nbsp;<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaca62af1125b1fdd01035c8641a1a1860">KWL_RANDOM</a> =  0, 
<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf5ff1baf8087b112233808b01093e3b0">KWL_RANDOM_NO_REPEAT</a>, 
<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf272929b997f372a38db29a42a5f06c1">KWL_SEQUENTIAL</a>, 
<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf6d8ce32cf81d87343146217f5d8cf6e">KWL_SEQUENTIAL_NO_RESET</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceac65b1544873f639907f3b5666975e848">KWL_IN_RANDOM_OUT</a>, 
<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceac65bf63b143a337af344b09e2c966477">KWL_IN_RANDOM_NO_REPEAT_OUT</a>, 
<a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58cea377f9ca9a824c15a5cb67b139323fb04">KWL_IN_SEQUENTIAL_OUT</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kwl__sound_8h.html#aa3377129270e3fe2192a244596d1cb84">kwlSound_init</a> (<a class="el" href="structkwl_sound.html">kwlSound</a> *sound)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="kwl__sound_8h.html#aa5e10e7b6a40a3374d7414371d701d0b">kwlSound_pickNextBufferForEvent</a> (<a class="el" href="structkwl_sound.html">kwlSound</a> *sound, struct <a class="el" href="structkwl_event.html">kwlEvent</a> *event, int firstBuffer)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ad831cdaa81dc9f200903e76d5379eb73"></a><!-- doxytag: member="kwl_sound.h::kwlSound" ref="ad831cdaa81dc9f200903e76d5379eb73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structkwl_sound.html">kwlSound</a>  <a class="el" href="structkwl_sound.html">kwlSound</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A sound definition associated with an non-streaming event. Defines a set of PCM waveforms and how they should be played back. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a45788c5092edb0fba2993536414e58ce"></a><!-- doxytag: member="kwl_sound.h::kwlSoundPlaybackMode" ref="a45788c5092edb0fba2993536414e58ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ce">kwlSoundPlaybackMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Valid sound playback modes, describing how the next audio data item is selected from the sound's audio data list when the current item has finished playing. The behaviour when the referencing event is stopped is determined by the combination of the playback mode and the value of the <code>deferStop</code> flag of the <code><a class="el" href="structkwl_sound.html">kwlSound</a></code> struct. The following timeline diagram shows the behaviour for different combinations of playback modes and  values. A sound with five audio data items, each one second long, is used in this example. The <code>playbackCount</code> is -1, which means new items are selected until the referencing event is requested to stop. </p>
<div class="fragment"><pre class="fragment"> |0s         |1s         |2s         |3s         |4s         |5s
 |Start                                   |Stop   
 |called                                  |called 
 |                                        |       
 |                                        |       
 V                                        V
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaca62af1125b1fdd01035c8641a1a1860">KWL_RANDOM</a>:
 [1.........][2.........][2.........][4...]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf5ff1baf8087b112233808b01093e3b0">KWL_RANDOM_NO_REPEAT</a>:
 [1.........][4.........][3.........][4...]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf272929b997f372a38db29a42a5f06c1">KWL_SEQUENTIAL</a>/<a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf6d8ce32cf81d87343146217f5d8cf6e">KWL_SEQUENTIAL_NO_RESET</a>:
 [1.........][2.........][3.........][4...]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceac65b1544873f639907f3b5666975e848">KWL_IN_RANDOM_OUT</a>:
 [1.........][2.........][2.........][4...][5.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceac65bf63b143a337af344b09e2c966477">KWL_IN_RANDOM_NO_REPEAT_OUT</a>:
 [1.........][4.........][3.........][4...][5.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58cea377f9ca9a824c15a5cb67b139323fb04">KWL_IN_SEQUENTIAL_OUT</a>:
 [1.........][2.........][3.........][4...][5.........]
 
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaca62af1125b1fdd01035c8641a1a1860">KWL_RANDOM</a>, defer stop:
 [1.........][2.........][2.........][4.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf5ff1baf8087b112233808b01093e3b0">KWL_RANDOM_NO_REPEAT</a>, defer stop:
 [1.........][4.........][3.........][4.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf272929b997f372a38db29a42a5f06c1">KWL_SEQUENTIAL</a>/<a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceaf6d8ce32cf81d87343146217f5d8cf6e">KWL_SEQUENTIAL_NO_RESET</a>, defer stop:
 [1.........][2.........][3.........][4.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceac65b1544873f639907f3b5666975e848">KWL_IN_RANDOM_OUT</a>, defer stop
 [1.........][3.........][3.........][2.........][5.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58ceac65bf63b143a337af344b09e2c966477">KWL_IN_RANDOM_NO_REPEAT_OUT</a>, defer stop
 [1.........][4.........][2.........][3.........][5.........]
 <a class="code" href="kwl__sound_8h.html#a45788c5092edb0fba2993536414e58cea377f9ca9a824c15a5cb67b139323fb04">KWL_IN_SEQUENTIAL_OUT</a>, defer stop
 [1.........][2.........][3.........][4.........][5.........]
</pre></div> <dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58ceaca62af1125b1fdd01035c8641a1a1860"></a><!-- doxytag: member="KWL_RANDOM" ref="a45788c5092edb0fba2993536414e58ceaca62af1125b1fdd01035c8641a1a1860" args="" -->KWL_RANDOM</em>&nbsp;</td><td>
<p>An audio data item is chosen randomly. Example sequence from a sound with 5 audio data items: </p>
<div class="fragment"><pre class="fragment"> 5, 2, 3, 4, 3, 2, 2, 2, 3, 5, 4, 3, 1, 2, 3....
</pre></div> </td></tr>
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58ceaf5ff1baf8087b112233808b01093e3b0"></a><!-- doxytag: member="KWL_RANDOM_NO_REPEAT" ref="a45788c5092edb0fba2993536414e58ceaf5ff1baf8087b112233808b01093e3b0" args="" -->KWL_RANDOM_NO_REPEAT</em>&nbsp;</td><td>
<p>An audio data item is chosen randomly among all items except the one that just finished playing. Example sequence from a sound with 5 audio data items: </p>
<div class="fragment"><pre class="fragment"> 1, 4, 5, 2, 4, 1, 5, 2, 4, 1, 3, 1, 2, 5, 4....
</pre></div> </td></tr>
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58ceaf272929b997f372a38db29a42a5f06c1"></a><!-- doxytag: member="KWL_SEQUENTIAL" ref="a45788c5092edb0fba2993536414e58ceaf272929b997f372a38db29a42a5f06c1" args="" -->KWL_SEQUENTIAL</em>&nbsp;</td><td>
<p>The next audio data item in the list is chosen. If the end of the list is reached, the first item is chosen. Example sequence from a sound with 5 audio data items: </p>
<div class="fragment"><pre class="fragment"> 1, 2, 3, 4, 5, 1, 2, ....
</pre></div> </td></tr>
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58ceaf6d8ce32cf81d87343146217f5d8cf6e"></a><!-- doxytag: member="KWL_SEQUENTIAL_NO_RESET" ref="a45788c5092edb0fba2993536414e58ceaf6d8ce32cf81d87343146217f5d8cf6e" args="" -->KWL_SEQUENTIAL_NO_RESET</em>&nbsp;</td><td>
<p>The same as KWL_SEQUENTIAL, except the audio data index is not reset between playbacks. So whereas KWL_SEQUENTIAL generates the same sequences each time the event is triggered, KWL_SEQUENTIAL_NO_RESET would generate for example </p>
<div class="fragment"><pre class="fragment"> 1, 2, 3, 4, 5, 1, 2 (first playback)
 3, 4, 5, 1, 2, 3, 4 (second playback)
</pre></div> </td></tr>
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58ceac65b1544873f639907f3b5666975e848"></a><!-- doxytag: member="KWL_IN_RANDOM_OUT" ref="a45788c5092edb0fba2993536414e58ceac65b1544873f639907f3b5666975e848" args="" -->KWL_IN_RANDOM_OUT</em>&nbsp;</td><td>
<p>Example sequence from a sound with 5 audio data items: </p>
<div class="fragment"><pre class="fragment"> 1, 2, 2, 4, 2, 3, 2, 4, 2, 2, 4, 2, 3, 2, 4....5
</pre></div> </td></tr>
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58ceac65bf63b143a337af344b09e2c966477"></a><!-- doxytag: member="KWL_IN_RANDOM_NO_REPEAT_OUT" ref="a45788c5092edb0fba2993536414e58ceac65bf63b143a337af344b09e2c966477" args="" -->KWL_IN_RANDOM_NO_REPEAT_OUT</em>&nbsp;</td><td>
<p>Example sequence from a sound with 5 audio data items: </p>
<div class="fragment"><pre class="fragment"> 1, 2, 3, 4, 3, 4, 4, 3, 2, 3, 3, 2, 4, 3, 4....5
</pre></div> </td></tr>
<tr><td valign="top"><em><a class="anchor" id="a45788c5092edb0fba2993536414e58cea377f9ca9a824c15a5cb67b139323fb04"></a><!-- doxytag: member="KWL_IN_SEQUENTIAL_OUT" ref="a45788c5092edb0fba2993536414e58cea377f9ca9a824c15a5cb67b139323fb04" args="" -->KWL_IN_SEQUENTIAL_OUT</em>&nbsp;</td><td>
<p>Example sequence from a sound with 5 audio data items: </p>
<div class="fragment"><pre class="fragment"> 1, 2, 4, 3, 4, 2, 4, 2, 3, 4, 3, 2, 3, 2, 4....5
</pre></div> </td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa3377129270e3fe2192a244596d1cb84"></a><!-- doxytag: member="kwl_sound.h::kwlSound_init" ref="aa3377129270e3fe2192a244596d1cb84" args="(kwlSound *sound)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kwlSound_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkwl_sound.html">kwlSound</a> *&nbsp;</td>
          <td class="paramname"> <em>sound</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa5e10e7b6a40a3374d7414371d701d0b"></a><!-- doxytag: member="kwl_sound.h::kwlSound_pickNextBufferForEvent" ref="aa5e10e7b6a40a3374d7414371d701d0b" args="(kwlSound *sound, struct kwlEvent *event, int firstBuffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kwlSound_pickNextBufferForEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkwl_sound.html">kwlSound</a> *&nbsp;</td>
          <td class="paramname"> <em>sound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkwl_event.html">kwlEvent</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>firstBuffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes a given event according to a sound definition. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Non-zero if the event should stop playing, zero otherwise. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26424920-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body></html>
